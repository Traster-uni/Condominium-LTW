ut_no_reg (cookie, ut_id)
ut_registrato(ut_id, nome, congome, usrname, passwd, dIscrizione, codice_fiscale)
Documenti(ut_id, img_ID, img_FisclCode)

Condomino (ut_id, pdf_doc_purchaseRent)
Amministratore(ut_id, pdf_doc_idAdmin)

Condominio(aptBlock_id, address, citta, )

req_ut_access(utReq_id, ut_id, aptBlock_id, time_born, time_mod, status:enum{accepted, refused, aborted})

req_aptBlock_create(utReq_id, utAdm_id, time_born, time_mod, status: enum{accept, refused})

aptBlock_form(utReq_id, address, citta, regione, img_docs)


[bb](0,N) <---> (0,N) [post] (0,N) <---> (0,1) [thread] (1,N) <---> (1,1) [reply]

Per far sı̀ che PHP possa utilizzare il DBMS PostgreSQL bisogna
utilizzare l’estensione pgsql:
Linux: Lanciare, tramite shell, il seguente comando: 
sudo apt install php-pgsql
Nel file di configurazione php.ini, decommentare la riga
“; extension=pgsql” (togliendo il “;” iniziale).
Per chi usa XAMPP: solitamente il file php.ini è situato nella
cartella C:\xampp\php

per ogni req_aptBlock_create va da 'pending' a 'accepted':
    crea una nuova istanza di aptBlock con 
    aptBlock_id = req_aptBlock_create(aptBlockReq_id)


per ogni nuovo aptBlock inserito 
    crea due nuove istanze di aptBlock_bulletinBoard con 
    aptBlock_bulletinBoard(aptBlock_id) = aptBlock(aptBlock_id)
    aptBlock_bulletinBoard(bb_name) = 'admin' and 'general'
    aptBlock_bulletinBoard(bb_year) = date_part(current_date, 'year')


 CREATE TABLE IF NOT EXISTS rental_request(
	rental_req_id serial,
	ut_id integer,
	adm_id integer,
	rental_time time NOT NULL, drop
	rental_day date CHECK (rental_day > current_date) NOT NULL, 
	retal_period integer CHECK (retal_period > 0),
	submit_time timestamp NOT NULL,
	stat request_status NOT NULL,
	PRIMARY KEY (rental_req_id),
	FOREIGN KEY (ut_id) REFERENCES ut_owner(utReq_id),
	FOREIGN KEY (adm_id) REFERENCES aptBlock_admin(ut_id)
 );

  CREATE TABLE IF NOT EXISTS rental_request(
	rental_req_id serial,
	ut_id integer,
	adm_id integer,
	rental_datatime_start timestamp NOT NULL, 
	rental_datatime_end timestamp NOT NULL CHECK(rental_datatime_end >= rental_datatime_start),
	submit_time timestamp NOT NULL,
	stat request_status NOT NULL,
	PRIMARY KEY (rental_req_id),
	FOREIGN KEY (ut_id) REFERENCES ut_owner(utReq_id),
	FOREIGN KEY (adm_id) REFERENCES aptBlock_admin(ut_id)
 );

ALTER TABLE ut_owner
    RENAME COLUMN ut_doc_fname TO ut_ownership_doc_fname,
    DROP COLUMN codice_fiscale;

TODO:
	Autoconnect sul server php su PostgreSQL
	Trovare un modo per caricarre file binari su cartella remota server 
	pagina di login HTML+php
Array ( [upload-img] => 
			Array ( [name] => FB_IMG_1533802567848.jpg 
					[full_path] => FB_IMG_1533802567848.jpg 
					[type] => image/jpeg [tmp_name] => C:\Users\trast\AppData\Local\Temp\php7569.tmp 
					[error] => 0 
					[size] => 30545 ) 
		)

Warning: Undefined array key "email" in C:\LTW-Condominium\Condominiunm-LTW\global\04-php\upload.php on line 71

Warning: Undefined variable $ABS_PATH in C:\LTW-Condominium\Condominiunm-LTW\global\04-php\upload.php on line 76
\users\\pictures\photos\fb_img_1533802567848.jpg

Warning: Undefined variable $ABS_PATH in C:\LTW-Condominium\Condominiunm-LTW\global\04-php\upload.php on line 81

Warning: chdir(): No such file or directory (errno 2) in C:\LTW-Condominium\Condominiunm-LTW\global\04-php\upload.php on line 81

Warning: mkdir(): No such file or directory in C:\LTW-Condominium\Condominiunm-LTW\global\04-php\upload.php on line 82

Warning: Undefined variable $target_fname in C:\LTW-Condominium\Condominiunm-LTW\global\04-php\upload.php on line 85

Warning: move_uploaded_file(): Unable to move "C:\Users\trast\AppData\Local\Temp\php7569.tmp" to "" 
	in C:\LTW-Condominium\Condominiunm-LTW\global\04-php\upload.php on line 85

Fatal error: Uncaught ValueError: Path cannot be empty in C:\LTW-Condominium\Condominiunm-LTW\global\04-php\upload.php:85 
	Stack trace: #0 C:\LTW-Condominium\Condominiunm-LTW\global\04-php\upload.php(85): move_uploaded_file() #1 {main} 
		thrown in C:\LTW-Condominium\Condominiunm-LTW\global\04-php\upload.php on line 85

--------------------------------------------------------------------------------------------------
$_FILES
Array ( [upload-img] => Array ( 
						[name] => 
						[full_path] => 
						[type] => 
						[tmp_name] => 
						[error] => 4 
						[size] => 0 ) ) 

$_SERVER
Array ( [DOCUMENT_ROOT] => C:\LTW-Condominium 
		[REMOTE_ADDR] => ::1 
		[REMOTE_PORT] => 65019 
		[SERVER_SOFTWARE] => PHP/8.3.6 (Development Server) 
		[SERVER_PROTOCOL] => HTTP/1.1 
		[SERVER_NAME] => localhost 
		[SERVER_PORT] => 3000 
		[REQUEST_URI] => /Condominiunm-LTW/global/04-php/upload.php 
		[REQUEST_METHOD] => POST 
		[SCRIPT_NAME] => /Condominiunm-LTW/global/04-php/upload.php 
		[SCRIPT_FILENAME] => C:\LTW-Condominium\Condominiunm-LTW\global\04-php\upload.php 
		[PHP_SELF] => /Condominiunm-LTW/global/04-php/upload.php 
		[HTTP_HOST] => localhost:3000 
		[HTTP_CONNECTION] => keep-alive 
		[CONTENT_LENGTH] => 291 
		[HTTP_CONTENT_LENGTH] => 291 
		[HTTP_CACHE_CONTROL] => max-age=0 
		[HTTP_SEC_CH_UA] => "Chromium";v="124", "Google Chrome";v="124", "Not-A.Brand";v="99" 
		[HTTP_SEC_CH_UA_MOBILE] => ?0 
		[HTTP_SEC_CH_UA_PLATFORM] => "Windows" 
		[HTTP_ORIGIN] => http://localhost:3000 
		[HTTP_DNT] => 1 
		[HTTP_UPGRADE_INSECURE_REQUESTS] => 1 
		[CONTENT_TYPE] => multipart/form-data; boundary=----WebKitFormBoundarymYH9tWHDcnvrsgFN 
		[HTTP_CONTENT_TYPE] => multipart/form-data; boundary=----WebKitFormBoundarymYH9tWHDcnvrsgFN 
		[HTTP_USER_AGENT] => Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36 
		[HTTP_ACCEPT] => text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7 
		[HTTP_SEC_FETCH_SITE] => same-origin 
		[HTTP_SEC_FETCH_MODE] => navigate 
		[HTTP_SEC_FETCH_USER] => ?1 
		[HTTP_SEC_FETCH_DEST] => document 
		[HTTP_REFERER] => http://localhost:3000/Condominiunm-LTW/prova_upload.php 
		[HTTP_ACCEPT_ENCODING] => gzip, deflate, br, zstd 
		[HTTP_ACCEPT_LANGUAGE] => it-IT,it;q=0.9,en-US;q=0.8,en;q=0.7 
		[HTTP_COOKIE] => PHPSESSID=b9hm83l2c20crtfi4pbbc6a99i 
		[REQUEST_TIME_FLOAT] => 1715433194.0887 
		[REQUEST_TIME] => 1715433194 )


Warning: mkdir(): No such file or directory in C:\LTW-Condominium\Condominiunm-LTW\global\04-php\upload.php on line 111
Warning: mkdir(): File exists in C:\LTW-Condominium\Condominiunm-LTW\global\04-php\upload.php on line 113
